<table class="table table-sm">
  <thead>
    <tr>
      <th>Permission</th>
      <th>Global</th>
      <th>Action</th>
      <th>Environment</th>
      <th>Res. Group</th>
      <th>Res. Type</th>
      <th>Res. Type Cat.</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    @for (restriction of restrictions(); track restriction) {
    <tr>
      <td>{{ restriction.permission.name }}</td>
      <td>
        @if (restriction.permission.old) {
        <app-icon icon="check"></app-icon>
        }
      </td>
      <td>{{ restriction.action }}</td>
      <td>{{ restriction.contextName }}</td>
      <td>{{ getGroupName(restriction.resourceGroupId) }}</td>
      <td>{{ restriction.resourceTypeName }}</td>
      <td>{{ restriction.resourceTypePermission }}</td>
      <td>
        @if (!delegationMode()) {
        <app-button [variant]="'link'" [size]="'sm'" (click)="modifyRestriction(restriction.id)"
          ><app-icon icon="pencil"></app-icon>
        </app-button>
        <app-button [variant]="'link'" [size]="'sm'" (click)="removeRestriction(restriction.id)"
                    [additionalClasses]="'me-0 link-danger'"
          ><app-icon icon="trash"></app-icon>
        </app-button>
        }
      </td>
    </tr>
    } @empty {
    <tr>
      <td colspan="8" class="text-center">No restrictions defined</td>
    </tr>
    }
  </tbody>
</table>
